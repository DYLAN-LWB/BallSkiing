var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Games=function(t){function e(){var e=t.call(this)||this;return e._info=new Info,e._score=0,e._ball=new Bitmap("person_png"),e._moveToRight=!0,e._ballMoveSpeed=8,e._bgMoveSpeed=10,e._baseSpeed=1,e._isSpeedUp=!1,e._isFitstApperar=!0,e._locusW=8,e._locusPointAaray=[],e._highScoreArray1=[],e._barrierArray1=[],e._highScoreArray2=[],e._barrierArray2=[],e.addEventListener(egret.Event.ADDED_TO_STAGE,e.createGameScene,e),e}return __extends(e,t),e.prototype.createGameScene=function(){this._stageW=this.stage.stageWidth,this._stageH=this.stage.stageHeight,this.setupViews()},e.prototype.setupViews=function(){this.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBegin,this),this.addEventListener(egret.Event.ENTER_FRAME,this.frameObserve,this);var t=new egret.Sprite;t.x=0,t.y=0,t.width=this._stageW,t.height=this._stageH,t.graphics.beginFill(16775413),t.graphics.drawRect(0,0,t.width,t.height),t.graphics.endFill(),this.addChild(t),this._ball.x=this._stageW/2,this._ball.y=400,this._ball.width=40,this._ball.height=40,this.addChild(this._ball),this._guide=new Movie,this._guide.init("guide_json","guide_png","guide",-1),this._guide.alpha=1,this._guide.x=200,this._guide.y=340,this._guide.width=100,this._guide.height=60,this._gameBg1=new egret.Sprite,this._gameBg1.x=0,this._gameBg1.y=0,this._gameBg1.width=this._stageW,this._gameBg1.height=this._stageH,this.addChild(this._gameBg1),this._gameBg2=new egret.Sprite,this._gameBg2.x=0,this._gameBg2.y=this._stageH,this._gameBg2.width=this._stageW,this._gameBg2.height=this._stageH,this.addChild(this._gameBg2),this.addBarriers(1),this._isFitstApperar=!1,this.addBarriers(2),this._lastLocusPointX=this._stageW/2+this._ball.width/2,this._lastLocusPointY=400},e.prototype.addBarriers=function(t){1==t?(this._highScoreArray1.splice(0,this._highScoreArray1.length),this._barrierArray1.splice(0,this._barrierArray1.length)):(this._highScoreArray2.splice(0,this._highScoreArray2.length),this._barrierArray2.splice(0,this._barrierArray2.length));for(var e=0;e<(this._isFitstApperar?5:10)+5*Math.random();e++){var i=new egret.Sprite;i.x=Math.random()*(this._stageW-80),i.y=Math.random()*(this._stageH-80-(this._isFitstApperar?700:0))+(this._isFitstApperar?700:0),i.width=80,i.height=80,i.graphics.beginFill(5473931,.01),i.graphics.drawCircle(40,40,40),i.graphics.endFill();var s=new egret.Sprite;s.x=i.x+20,s.y=i.y+20,s.width=40,s.height=40,s.graphics.beginFill(16711680,.01),s.graphics.drawCircle(20,20,20),s.graphics.endFill();var r=new Bitmap("monster_png");r.x=5,r.y=5,r.width=30,r.height=30,s.addChild(r),1==t?(this._gameBg1.addChild(i),this._gameBg1.addChild(s),this._highScoreArray1.push(i),this._barrierArray1.push(s)):(this._gameBg2.addChild(i),this._gameBg2.addChild(s),this._highScoreArray2.push(i),this._barrierArray2.push(s))}},e.prototype.frameObserve=function(){1==this._moveToRight?(this._ball.x>=this._stageW-this._ball.width?this.gameOverFunc():this._ball.x+=this._ballMoveSpeed,this._guide.x=this._ball.x+50):(this._ball.x<=0?this.gameOverFunc():this._ball.x-=this._ballMoveSpeed,this._guide.x=this._ball.x-50),this._gameBg1.y-=this._bgMoveSpeed*this._baseSpeed,this._gameBg2.y-=this._bgMoveSpeed*this._baseSpeed,this._gameBg1.y<=-this._stageH&&(this._gameBg1.removeChildren(),this._gameBg1.y=this._gameBg2.y+this._stageH,this._locusPointAaray.splice(0,this._locusPointAaray.length),this.addBarriers(1)),this._gameBg2.y<=-this._stageH&&(this._gameBg2.removeChildren(),this._gameBg2.y=this._gameBg1.y+this._stageH,this._locusPointAaray.splice(0,this._locusPointAaray.length),this.addBarriers(2));var t=new egret.Shape,e=0;this._gameBg1.y+this._gameBg1.height>400&&this._gameBg1.y+this._gameBg1.height<=this._stageH+400?(this._gameBg1.addChild(t),e=400-this._gameBg1.y):(this._gameBg2.addChild(t),e=400-this._gameBg2.y),this._lastLocusPointY>=this._stageH-this._bgMoveSpeed*this._baseSpeed&&(this._lastLocusPointY=e-this._bgMoveSpeed*this._baseSpeed);var i={beginX:this._lastLocusPointX,beginY:this._lastLocusPointY,endX:this._ball.x+this._ball.width/2,endY:e,object:t};this._locusPointAaray.reverse(),this._locusPointAaray.push(i),this._locusPointAaray.reverse();for(var s=0;s<this._locusPointAaray.length;s++){var r=.055*this._locusW*s;r>4*this._locusW&&(r=4*this._locusW),r<this._locusW&&(r=this._locusW);var n=this._locusPointAaray[s].object;n.graphics.lineStyle(r,(this._isSpeedUp,13493218),1,!0),n.graphics.moveTo(this._locusPointAaray[s].beginX,this._locusPointAaray[s].beginY),n.graphics.lineTo(this._locusPointAaray[s].endX,this._locusPointAaray[s].endY)}this._lastLocusPointX=this._ball.x+this._ball.width/2,this._lastLocusPointY=e,this.checkBarrierHit(),this.checkHighScoreHit()},e.prototype.touchBegin=function(t){var e=new egret.Timer(10,20);e.addEventListener(egret.TimerEvent.TIMER,this.bufferTimerFunc,this),e.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.bufferTimerComFunc,this),e.start(),this._guide.alpha=1;var i=new egret.Timer(500,1);i.addEventListener(egret.TimerEvent.TIMER,function(){this._guide.alpha=1},this),i.start()},e.prototype.bufferTimerFunc=function(t){this._ballMoveSpeed-=.5,this._ballMoveSpeed<0&&(this._ballMoveSpeed=0)},e.prototype.bufferTimerComFunc=function(t){this._moveToRight=!this._moveToRight,this._ballMoveSpeed=0;var e=new egret.Timer(10,20);e.addEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),e.start()},e.prototype.timerFunc=function(t){this._ballMoveSpeed+=.5,this._ballMoveSpeed>15&&(this._ballMoveSpeed=15)},e.prototype.checkHighScoreHit=function(){for(var t=0;t<this._highScoreArray1.length;t++){var e=this._highScoreArray1[t],i=e.hitTestPoint(this._ball.x+this._ball.width/2,this._ball.y+this._ball.height);if(i){this._isSpeedUp=!0;var s=new egret.Timer(5e3,1);s.addEventListener(egret.TimerEvent.TIMER,function(){this._isSpeedUp=!1,this._baseSpeed=1},this),s.start()}}for(var t=0;t<this._highScoreArray2.length;t++){var e=this._highScoreArray2[t],i=e.hitTestPoint(this._ball.x+this._ball.width/2,this._ball.y+this._ball.height);if(i){this._isSpeedUp=!0;var s=new egret.Timer(5e3,1);s.addEventListener(egret.TimerEvent.TIMER,function(){this._isSpeedUp=!1,this._baseSpeed=1},this),s.start()}}},e.prototype.checkBarrierHit=function(){for(var t=0;t<this._barrierArray1.length;t++){var e=this._barrierArray1[t],i=e.hitTestPoint(this._ball.x+this._ball.width/2,this._ball.y+this._ball.height);i&&this.gameOverFunc()}for(var t=0;t<this._barrierArray2.length;t++){var e=this._barrierArray2[t],i=e.hitTestPoint(this._ball.x+this._ball.width/2,this._ball.y+this._ball.height);i&&this.gameOverFunc()}},e.prototype.gameOverFunc=function(){this.stage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBegin,this),this.removeEventListener(egret.Event.ENTER_FRAME,this.frameObserve,this),this._backgroundChannel&&this._backgroundChannel.stop(),this._normalAlert=new Alert(Alert.GamePageScore,"999","1000","1",0,this._stageW,this._stageH),this._normalAlert.addEventListener(AlertEvent.Restart,this.restart,this),this.addChild(this._normalAlert)},e.prototype.restart=function(){this.removeChildren(),this._highScoreArray1.splice(0,this._highScoreArray1.length),this._barrierArray1.splice(0,this._barrierArray1.length),this._highScoreArray2.splice(0,this._highScoreArray2.length),this._barrierArray2.splice(0,this._barrierArray2.length),this._moveToRight=!0,this._ballMoveSpeed=8,this._bgMoveSpeed=10,this._baseSpeed=1,this._isSpeedUp=!1,this._isFitstApperar=!0,this.setupViews()},e.prototype.minusGameCount=function(){var t="?vuid="+this._info._vuid+"&key="+this._info._key+"&timenum="+this._info._timenum+"&activitynum="+this._info._activitynum+"&isfrom="+this._info._isfrom,e=new egret.HttpRequest;e.responseType=egret.HttpResponseType.TEXT,e.open(this._info._downnum+t,egret.HttpMethod.GET),e.send(),e.addEventListener(egret.Event.COMPLETE,function(){var t=JSON.parse(e.response);if(0==t.code);else if(2==t.code){var i=new Alert(Alert.GamePageShare,"","","",0,this._stageW,this._stageH);i.addEventListener(AlertEvent.Share,this.shareButtonClick,this),i.addEventListener(AlertEvent.Cancle,function(){window.location.reload()},this),this.addChild(i)}else alert(t.msg)},this),e.addEventListener(egret.IOErrorEvent.IO_ERROR,function(){alert("numdown5　post error : "+event)},this)},e.prototype.getWords=function(t){var e="?vuid="+this._info._vuid+"&key="+this._info._key+"&timenum="+this._info._timenum+"&activitynum="+this._info._activitynum+"&rands="+this._rands+"&isfrom="+this._info._isfrom,i=new egret.HttpRequest;i.responseType=egret.HttpResponseType.TEXT,i.open(this._info._getWord+e,egret.HttpMethod.GET),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(),i.addEventListener(egret.Event.COMPLETE,function(){var t=JSON.parse(i.response);0==t.code||alert(t.msg)},this),i.addEventListener(egret.IOErrorEvent.IO_ERROR,function(){},this)},e.prototype.plusScore=function(t){var e="?vuid="+this._info._vuid+"&rands="+this._rands+"&tid="+this._tid+"&md5="+t+"&timenum="+this._info._timenum+"&activitynum="+this._info._activitynum+"&isfrom="+this._info._isfrom,i=new egret.HttpRequest;i.responseType=egret.HttpResponseType.TEXT,i.open(this._info._typosTempjump+e,egret.HttpMethod.GET),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(),i.addEventListener(egret.Event.COMPLETE,function(){JSON.parse(i.response)},this),i.addEventListener(egret.IOErrorEvent.IO_ERROR,function(){},this)},e.prototype.gameOver=function(){var t="?score="+this._score+"&vuid="+this._info._vuid+"&key="+this._info._key+"&rands="+this._rands+"&timenum="+this._info._timenum+"&activitynum="+this._info._activitynum+"&isfrom="+this._info._isfrom,e=new egret.HttpRequest;e.responseType=egret.HttpResponseType.TEXT,e.open(this._info._gameover+t,egret.HttpMethod.GET),e.send(),e.addEventListener(egret.Event.COMPLETE,function(){var t=JSON.parse(e.response),i=t.data.score;this._score>parseInt(i)&&(i=this._score),this._normalAlert=new Alert(Alert.GamePageScore,this._score.toString(),i,t.data.order,t.data.text,this._stageW,this._stageH),this._normalAlert.addEventListener(AlertEvent.Ranking,this.checkRanking,this),this._normalAlert.addEventListener(AlertEvent.Restart,this.restartGame,this),this.addChild(this._normalAlert)},this),e.addEventListener(egret.IOErrorEvent.IO_ERROR,function(){alert("GameOver　post error : "+event)},this)},e.prototype.checkRanking=function(){this._normalAlert&&this._normalAlert.parent&&this._normalAlert.parent.removeChild(this._normalAlert),window.location.href=this._info._rankUrl+this._info._timenum+"/activitynum/"+this._info._activitynum+"/vuid/"+this._info._vuid+"/key/"+this._info._key+"/isfrom/"+this._info._isfrom},e.prototype.restartGame=function(){this.removeChildren(),this.minusGameCount()},e.prototype.shareButtonClick=function(){var t=new Bitmap("shareGui_png");t.touchEnabled=!0,t.x=0,t.y=0,t.width=this.stage.stageWidth,t.height=this.stage.stageHeight,t.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){this.removeChild(t)},this),this.addChild(t)},e}(egret.DisplayObjectContainer);__reflect(Games.prototype,"Games");var Home=function(t){function e(){var e=t.call(this)||this;return e._playCount=-1,e._isPortraitScreen=!0,e._info=new Info,e._pageUrl=window.location.href,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.createGameScene,e),e}return __extends(e,t),e.prototype.createGameScene=function(){var t=window.navigator.userAgent.toLowerCase();"micromessenger"==t.match(/MicroMessenger/i)?/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?this.stage.setContentSize(this._isPortraitScreen?750:1218,this._isPortraitScreen?1218:750):/(Android)/i.test(navigator.userAgent)&&this.stage.setContentSize(this._isPortraitScreen?750:1196,this._isPortraitScreen?1196:750):/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?this.stage.setContentSize(this._isPortraitScreen?750:1218,this._isPortraitScreen?1218:750):/(Android)/i.test(navigator.userAgent)&&this.stage.setContentSize(this._isPortraitScreen?750:1298,this._isPortraitScreen?1298:750);var e=new Bitmap("index_jpg");e.width=this.stage.stageWidth,e.height=this.stage.stageHeight,this.addChild(e),this.getUserInfo()},e.prototype.getUserInfo=function(){this._pageUrl="http://ceshi.beisu100.com//actity/11/index.html?uid=3&key=1241ea11b7f3b5bf852b3bbc428ef209&isfrom=1&activitynum=11&timenum=1";var t=this.getUrlParams();this._info._vuid=t.uid.replace(/"/g,""),this._info._key=t.key.replace(/"/g,""),this._info._isfrom=t.isfrom.replace(/"/g,""),this._info._timenum=t.timenum.replace(/"/g,""),this._info._activitynum=t.activitynum.replace(/"/g,""),this._info._key.length<8?(this._info._vuid=localStorage.getItem("vuid").replace(/"/g,""),this._info._key=localStorage.getItem("key").replace(/"/g,""),this._info._isfrom=localStorage.getItem("isfrom").replace(/"/g,""),this._info._timenum=localStorage.getItem("timenum").replace(/"/g,""),this._info._activitynum=localStorage.getItem("activitynum").replace(/"/g,"")):(localStorage.setItem("vuid",JSON.stringify(this._info._vuid)),localStorage.setItem("key",JSON.stringify(this._info._key)),localStorage.setItem("isfrom",JSON.stringify(this._info._isfrom)),localStorage.setItem("timenum",JSON.stringify(this._info._timenum)),localStorage.setItem("activitynum",JSON.stringify(this._info._activitynum))),null==this._info._key&&alert("请先登录！"),0==parseInt(this._info._isfrom)?this.getNumberOfGames():this.setupSubViews()},e.prototype.getNumberOfGames=function(){var t="?vuid="+this._info._vuid+"&key="+this._info._key+"&timenum="+this._info._timenum+"&activitynum="+this._info._activitynum+"&isfrom="+this._info._isfrom,e=new egret.HttpRequest;e.responseType=egret.HttpResponseType.TEXT,e.open(this._info._canPalyNumber+t,egret.HttpMethod.GET),e.send(),e.addEventListener(egret.Event.COMPLETE,function(){var t=JSON.parse(e.response);console.log(t),0==t.code&&(this.setupSubViews(),this._playCount=t.data.num,this._playNumText.text="您当前有"+this._playCount+"次挑战机会",0!=t.data.isend&&this.setupOverButton())},this),e.addEventListener(egret.IOErrorEvent.IO_ERROR,function(){alert("num　post error : "+event),this._rankButton.touchEnabled=!0,this._startButton.touchEnabled=!0},this)},e.prototype.setupOverButton=function(){this.removeChild(this._startButton),this._overButton=new Bitmap("gamebody_json.ending"),this._overButton.x=this._isPortraitScreen?180:780,this._overButton.y=this._isPortraitScreen?700:570,this._overButton.rotation=this._isPortraitScreen?0:-90,this._overButton.touchEnabled=!0,this._overButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){alert("活动已结束")},this),this.addChild(this._overButton)},e.prototype.setupSubViews=function(){var t=new egret.TextField;t.x=this._isPortraitScreen?370:365,t.y=this._isPortraitScreen?370:375,t.lineSpacing=15,t.width=600,t.size=25,t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,t.rotation=this._isPortraitScreen?0:-90,this.addChild(t),this._playNumText=new egret.TextField,this._playNumText.size=30,this._playNumText.x=this._isPortraitScreen?220:620,this._playNumText.y=this._isPortraitScreen?630:520,this._playNumText.rotation=this._isPortraitScreen?0:-90,this._playNumText.textColor=2579281,this._playNumText.anchorOffsetX=this._playNumText.width/2,this._playNumText.anchorOffsetY=this._playNumText.height/2,this._playNumText.text="您当前有0次挑战机会",this.addChild(this._playNumText),this._startButton=new Bitmap("startgame_png"),this._startButton.x=this._isPortraitScreen?180:700,this._startButton.y=this._isPortraitScreen?700:570,this._startButton.rotation=this._isPortraitScreen?0:-90,this._startButton.touchEnabled=!0,this._startButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startPlayGame,this),this.addChild(this._startButton),this._rankButton=new Bitmap("ranking_png"),this._rankButton.x=this._isPortraitScreen?180:850,this._rankButton.y=this._isPortraitScreen?850:570,this._rankButton.rotation=this._isPortraitScreen?0:-90,this._rankButton.touchEnabled=!0,this._rankButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.checkRanking,this),this.addChild(this._rankButton),0==parseInt(this._info._isfrom)?t.textFlow=[{text:"轻按屏幕下方，控制倍倍上升，使其成功吃到汉字并组成成语，碰到障碍物即游戏结束（吃到魔法棒可重新记录成语哦~）根据最高分排名，排名前50都有红包奖励！此外，我们还会随机抽取100名发送幸运红包。每人共有5次挑战机会，",style:{textColor:1663126}},{text:"分享给好友，让好友为你加油，可增加机会呦~",style:{textColor:15874940}}]:1==parseInt(this._info._isfrom)&&(this.removeChild(this._playNumText),t.x=this._isPortraitScreen?370:480,t.y=this._isPortraitScreen?450:375,t.text="轻按屏幕下方，控制倍倍上升，使其成功吃到汉字并组成成语，碰到障碍物即游戏结束（吃到魔法棒可重新记录成语哦~）",this._startButton.x=this._isPortraitScreen?180:660,this._startButton.y=this._isPortraitScreen?660:570,this._rankButton.x=this._isPortraitScreen?180:850,this._rankButton.y=this._isPortraitScreen?810:570)},e.prototype.checkRanking=function(t){window.location.href=this._info._rankUrl+this._info._timenum+"/activitynum/"+this._info._activitynum+"/vuid/"+this._info._vuid+"/key/"+this._info._key+"/isfrom/"+this._info._isfrom},e.prototype.startPlayGame=function(t){this._rankButton.touchEnabled=!1,this._startButton.touchEnabled=!1,0==parseInt(this._info._isfrom)?this._playCount<1?(this._alert=new Alert(Alert.HomePageShare,"","","",0,this.stage.stageWidth,this.stage.stageHeight),this._alert.x=(this._isPortraitScreen,0),this._alert.y=this._isPortraitScreen?0:750,this._alert.rotation=this._isPortraitScreen?0:-90,this._alert.addEventListener(AlertEvent.Share,this.shareButtonClick,this),this._alert.addEventListener(AlertEvent.Cancle,this.cancleButtonClick,this),this.addChild(this._alert)):this.checkIsAttention():(this.removeChildren(),this.addChild(new Games))},e.prototype.checkIsAttention=function(){var t="?vuid="+this._info._vuid+"&timenum="+this._info._timenum+"&activitynum="+this._info._activitynum+"&isfrom="+this._info._isfrom,e=new egret.HttpRequest;e.responseType=egret.HttpResponseType.TEXT,e.open(this._info._hasAttention+t,egret.HttpMethod.GET),e.send(),e.addEventListener(egret.Event.COMPLETE,function(){var t=JSON.parse(e.response);console.log(t),0==t.code?this._playCount>0&&(this.removeChildren(),this.addChild(new Games)):2==t.code&&(this._rankButton.touchEnabled=!0,this._startButton.touchEnabled=!0,document.getElementById("attention").style.display="block")},this),e.addEventListener(egret.IOErrorEvent.IO_ERROR,function(){alert("isguanzhu　post error : "+event),this._rankButton.touchEnabled=!0,this._startButton.touchEnabled=!0},this)},e.prototype.cancleButtonClick=function(){this._rankButton.touchEnabled=!0,this._startButton.touchEnabled=!0,this.removeChild(this._alert)},e.prototype.shareButtonClick=function(){this.removeChild(this._alert);var t=new Bitmap("shareGui_png");t.touchEnabled=!0,t.x=(this._isPortraitScreen,0),t.y=this._isPortraitScreen?0:this.stage.stageHeight,t.width=this._isPortraitScreen?this.stage.stageWidth:this.stage.stageHeight,t.height=this._isPortraitScreen?this.stage.stageHeight:this.stage.stageWidth,t.rotation=this._isPortraitScreen?0:-90,t.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){this.removeChild(t),this._rankButton.touchEnabled=!0,this._startButton.touchEnabled=!0},this),this.addChild(t)},e.prototype.getUrlParams=function(){var t=this._pageUrl.indexOf("?"),e=this._pageUrl.substring(t),i=decodeURIComponent(e),s=new Object;if(-1!=i.indexOf("?"))for(var r=i.substr(1),n=r.split("&"),a=0;a<n.length;a++)s[n[a].split("=")[0]]=unescape(n[a].split("=")[1]);return s},e}(egret.DisplayObjectContainer);__reflect(Home.prototype,"Home");var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=500,this.textField.width=750,this.textField.height=100,this.textField.textAlign="center"},e.prototype.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},e.prototype.onResourceLoadComplete=function(t){"preload"==t.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.createGameScene())},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},e.prototype.createGameScene=function(){this.addChild(new Games),RES.getResAsync("description_json",this.startAnimation,this)},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e.prototype.startAnimation=function(t){},e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var Alert=function(t){function e(e,i,s,r,n,a,h){var o=t.call(this)||this;return o.type=e,o.score=i,o.highScore=s,o.ranking=r,o.descstate=n,o.screenwith=a,o.screenHeight=h,o.initView(),o}return __extends(e,t),e.prototype.initView=function(){var t;switch(t=new Bitmap("black_png"),t.height=this.screenHeight,t.width=this.screenwith,t.y=0,this.addChild(t),this.type){case 1:var e=new Bitmap("gamebody_json.prompt_03");e.x=370,e.y=480,e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2,this.addChild(e);var i=new egret.TextField;i.x=370,i.y=460,i.size=30,i.fontFamily="Microsoft YaHei",i.verticalAlign=egret.VerticalAlign.BOTTOM,i.textColor=16724307,i.text="五次机会已经用完了哦~分享给好友，让好友为你加油，就可以获得重玩的机会呦~",i.lineSpacing=10,i.width=400,i.anchorOffsetX=i.width/2,i.anchorOffsetY=i.height/2,this.addChild(i);var s=new Bitmap("gamebody_json.btn_03");s.x=230,s.y=610,s.anchorOffsetX=s.width/2,s.anchorOffsetY=s.height/2,s.touchEnabled=!0,s.addEventListener(egret.TouchEvent.TOUCH_TAP,this.cancleShareGame,this),this.addChild(s);var r=new Bitmap("gamebody_json.btn_05");r.x=510,r.y=610,r.anchorOffsetX=r.width/2,r.anchorOffsetY=r.height/2,r.touchEnabled=!0,r.addEventListener(egret.TouchEvent.TOUCH_TAP,this.shareGame,this),this.addChild(r);break;case 2:var n=new Bitmap("gamebody_json.tan");if(n.x=370,n.y=480,n.anchorOffsetX=n.width/2,n.anchorOffsetY=n.height/2,this.addChild(n),1==this.descstate){var a=new egret.TextField;a.x=140,a.y=380,a.size=32,a.fontFamily="Microsoft YaHei",a.verticalAlign=egret.VerticalAlign.BOTTOM,a.textFlow=[{text:"防作弊系统检测:",style:{textColor:8006727,size:22}},{text:"成绩无效,如有问题,请联系客服",style:{textColor:16719360,size:22}}],a.anchorOffsetY=a.height/2,this.addChild(a)}var h=new egret.TextField;h.x=420,h.y=420,h.size=42,h.fontFamily="Microsoft YaHei",h.verticalAlign=egret.VerticalAlign.BOTTOM,h.textColor=16729701,h.text=this.score,h.anchorOffsetX=h.width/2,h.anchorOffsetY=h.height/2,this.addChild(h);var o=new egret.TextField;o.x=415,o.y=470,o.size=32,o.fontFamily="Microsoft YaHei",o.verticalAlign=egret.VerticalAlign.BOTTOM,o.textColor=11947535,o.text=this.highScore,o.anchorOffsetX=o.width/2,o.anchorOffsetY=o.height/2,this.addChild(o);var _=new egret.TextField;_.x=400,_.y=520,_.size=32,_.fontFamily="Microsoft YaHei",_.verticalAlign=egret.VerticalAlign.BOTTOM,_.textColor=11947535,_.text=this.ranking,_.anchorOffsetY=_.height/2,this.addChild(_);var l=new Bitmap("gamebody_json.list");l.x=230,l.y=610,l.anchorOffsetX=l.width/2,l.anchorOffsetY=l.height/2,l.touchEnabled=!0,l.addEventListener(egret.TouchEvent.TOUCH_TAP,this.gotoRanking,this),this.addChild(l);var d=new Bitmap("gamebody_json.return");d.x=510,d.y=610,d.anchorOffsetX=d.width/2,d.anchorOffsetY=d.height/2,d.touchEnabled=!0,d.addEventListener(egret.TouchEvent.TOUCH_TAP,this.reastGame,this),this.addChild(d);break;case 3:var c=new Bitmap("gamebody_json.prompt_03");c.x=370,c.y=480,c.anchorOffsetX=c.width/2,c.anchorOffsetY=c.height/2,this.addChild(c);var g=new egret.TextField;g.x=370,g.y=460,g.size=30,g.fontFamily="Microsoft YaHei",g.verticalAlign=egret.VerticalAlign.BOTTOM,g.textColor=16724307,g.text="五次机会已经用完了哦~分享给好友，让好友为你加油，就可以获得重玩的机会呦~",g.lineSpacing=10,g.width=400,g.anchorOffsetX=g.width/2,g.anchorOffsetY=g.height/2,this.addChild(g);var u=new Bitmap("gamebody_json.btn_03");u.x=230,u.y=610,u.anchorOffsetX=u.width/2,u.anchorOffsetY=u.height/2,u.touchEnabled=!0,u.addEventListener(egret.TouchEvent.TOUCH_TAP,this.cancleShareGame,this),this.addChild(u);var p=new Bitmap("gamebody_json.btn_05");p.x=510,p.y=610,p.anchorOffsetX=p.width/2,p.anchorOffsetY=p.height/2,p.touchEnabled=!0,p.addEventListener(egret.TouchEvent.TOUCH_TAP,this.shareGame,this),this.addChild(p)}},e.prototype.gotoRanking=function(){var t=new AlertEvent(AlertEvent.Ranking);this.dispatchEvent(t)},e.prototype.reastGame=function(){var t=new AlertEvent(AlertEvent.Restart);this.dispatchEvent(t)},e.prototype.shareGame=function(){var t=new AlertEvent(AlertEvent.Share);this.dispatchEvent(t)},e.prototype.cancleShareGame=function(){var t=new AlertEvent(AlertEvent.Cancle);this.dispatchEvent(t)},e.HomePageShare=1,e.GamePageScore=2,e.GamePageShare=3,e}(egret.Sprite);__reflect(Alert.prototype,"Alert");var AlertEvent=function(t){function e(e,i,s){return void 0===i&&(i=!1),void 0===s&&(s=!1),t.call(this,e,i,s)||this}return __extends(e,t),e.Share="share",e.Ranking="ranking",e.Restart="restart",e.Cancle="cancle",e}(egret.Event);__reflect(AlertEvent.prototype,"AlertEvent");var Bitmap=function(t){function e(e){var i=(t.call(this)||this,new egret.Bitmap),s=RES.getRes(e);return i.texture=s,i}return __extends(e,t),e}(egret.Bitmap);__reflect(Bitmap.prototype,"Bitmap");var Info=function(){function t(){this._url="//www.beisu100.com/beisuapp/",this._hasAttention=this._url+"uservote/isguanzhu",this._canPalyNumber=this._url+"typos/num",this._downnum=this._url+"typos/numdown5",this._gameover=this._url+"typos/GameOver",this._typosTempjump=this._url+"typos/typostempjump",this._getWord="//www.beisu100.com/beisuapp/typos/GetBallwords",this._rankUrl=this._url+"gamerank/rank/timenum/"}return t}();__reflect(Info.prototype,"Info");var Movie=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.init=function(t,e,i,s){var r=RES.getRes(t),n=RES.getRes(e);this.mcf=new egret.MovieClipDataFactory(r,n),this.mc=new egret.MovieClip,this.mc.movieClipData=this.mcf.generateMovieClipData(i),this.mc.play(s),this.addChild(this.mc),this.mc.addEventListener(egret.Event.COMPLETE,this.removeBomb,this)},e.prototype.removeBomb=function(t){null!=this.parent&&this.parent.removeChild(this)},e}(egret.Sprite);__reflect(Movie.prototype,"Movie");